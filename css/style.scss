---
---

// TODO: before committing, please!!!! Remove comments from front matter.
// I've forgotten to do it TWO times.

// Variables
:root {
	--border-radius: 1rem;
	
	--background: linear-gradient(#e66465, #9198e5);
	--background-blur: linear-gradient(#9198e5, #e66465);
	
	--primary: white;
	
	--bar-active-fg: black;
	--bar-active-bg: #ffffffb0;
}

// Reset Styles
* {
	border: 0;
	padding: 0;
	margin: 0;
	outline: 0;
	
	box-sizing: border-box;
}
html, body {
	width: 100%;
	min-height: 100%;
	
	color: white;
	background-color: black;
	
	font-family: "Iosevka Term SS02", "Roboto", sans-serif;
	font-weight: 300;
}

::placeholder {
	opacity: 1;
}

body {
	display: flex;
	position: absolute;
	top: 0; left: 0;
	
	justify-content: center;
	align-items: center;
	
	background-image: var(--background);
	background-repeat: no-repeat;
	background-position: center;
	background-attachment: fixed;
	background-size: cover;
}

input {
	font-size: 1rem;
}

#main {
	display: flex;
	position: relative;
	
	justify-content: center;
	align-items: center;
	flex-direction: column;
	
	width: 90vw;
	height: auto;
	
	max-width: 40rem;
	
	border-radius: var(--border-radius);
	
	overflow: hidden;
	
	&:not(.css-filter):not(.css-backdrop-filter) {
		background-image: var(--background-blur);
		background-repeat: no-repeat;
		background-position: center;
		background-attachment: fixed;
		background-size: cover;
	}
	
	&.css-filter::before {
		content: "";
		position: absolute;
		
		// todo: ewww
		top: -8rem; left: -8rem;
		bottom: -8rem; right: -8rem;
		
		// top: 0; left: 0;
		// bottom: 0; right: 0;
		
		background-image: var(--background);
		background-repeat: no-repeat;
		background-position: center;
		background-attachment: fixed;
		background-size: cover;
		
		filter: blur(2rem);
	}
	
	&.css-backdrop-filter {
		-webkit-backdrop-filter: blur(2rem);
		backdrop-filter: blur(2rem);
	}
	
	#bar {
		display: flex;
		position: relative;
		
		justify-content: center;
		align-items: center;
		flex-direction: row;
		
		width: 100%;
		height: 2rem;
		
		transition: all 0.25s ease;
		background-color: transparent;
		
		border-radius: var(--border-radius);
		overflow: hidden;
		
		&.on {
			color: var(--bar-active-fg);
			background-color: var(--bar-active-bg);
			
			#clock {
				color: var(--bar-active-fg);
			}
			
			#search {
				color: var(--bar-active-fg);
			}
		}
	
		#clock {
			padding: .5rem 1rem;
			
			// border-radius: var(--border-radius) 0 0 var(--border-radius);
			
			line-height: 1;
			
			background-color: transparentize($color: white, $amount: 0.75);
		}
		
		#search {
			height: 2rem;
			
			padding: .5rem 1rem;
			
			color: var(--primary);
			background-color: transparent;
			
			font-family: "Iosevka Term SS02", "Roboto", sans-serif;
			font-weight: 300;
			
			flex-grow: 1;
			
			&::placeholder {
				color: transparentize($color: white, $amount: 0.5);
			}
		}
	}
	
	#results {
		width: 100%;
		
		background-color: transparent;
		
		line-height: 1.4;
		
		&.on {
			padding: 1rem;
		}
		
		li {
			list-style-position: inside;
			list-style-type: '-> ';
			
			a {
				text-decoration: none;
				color: var(--primary);
			}
			
			&:focus-within {
				background-color: transparentize($color: white, $amount: 0.5);
				
				border-radius: var(--border-radius);
			}
		}
	}
}
